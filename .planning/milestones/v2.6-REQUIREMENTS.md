# Requirements Archive: v2.6 Improvements & Polish

**Archived:** 2026-01-31
**Status:** ✅ SHIPPED

This is the archived requirements specification for v2.6.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v2.6 Requirements

Improvements & Polish milestone - fixing UX issues and platform-specific features.

### Workout Configuration

- [x] **WRK-01**: Default recovery time is 10 seconds (changed from 30)
- [x] **WRK-02**: User can still configure recovery time between 5-120 seconds
- [x] **WRK-03**: User's configured recovery time persists across app restarts

**Outcome:** All requirements satisfied. Default recovery time successfully changed from 30 to 10 seconds in SeriesSelectionScreen. Backward compatibility confirmed - existing users with saved preferences retain their values.

### Goal-Based Logic

- [x] **GOAL-01**: Workout auto-completes when daily goal is reached
- [x] **GOAL-02**: Series progression stops at goal completion (e.g., goal 10 = series 1+2+3+4)
- [x] **GOAL-03**: User cannot start new workout after completing daily goal
- [x] **GOAL-04**: Goal completion resets at midnight (new day = new workout allowed)

**Outcome:** All requirements satisfied. Goal completion detection implemented with cumulative progress calculation. Auto-completion flow skips recovery when goal reached. Start button disabled when goal complete. Midnight reset using session start date for boundary handling.

### User Experience

- [x] **UX-01**: Congratulations popup appears when daily goal is achieved
- [x] **UX-02**: Popup displays message: "Complimenti! Hai completato il tuo obiettivo di oggi. Ci vediamo domani!"
- [x] **UX-03**: Popup includes button to return to Home screen
- [x] **UX-04**: Popup appears immediately when goal is reached OR when app opens after goal completion
- [x] **UX-05**: Achievement popup is NOT shown for partial progress (only goal completion)

**Outcome:** All requirements satisfied. GoalCompletionDialog widget with confetti animation created. Italian message matches specification. App-open tracking with SharedPreferences. Navigation to Statistics after dismissal.

### Android Platform

- [x] **AND-01**: App icon uses Android Adaptive Icon system
- [x] **AND-02**: Adaptive icon supports all launcher shapes (round, square, teardrop, squircle, etc.)
- [x] **AND-03**: Icon background uses primary orange (#FF6B00)
- [x] **AND-04**: Icon foreground logo is clearly visible on all backgrounds
- [x] **AND-05**: Adaptive icons generated for all densities (hdpi, xhdpi, xxhdpi, xxxhdpi)

**Outcome:** All requirements satisfied. Foreground layer extracted with transparent background. XML files created for API 26+. PNG assets generated for all 5 standard densities. Background color set to #FF6B00.

### Bug Fixes

- [x] **BUG-01**: Onboarding daily goal value is reflected in Home screen (e.g., 0/20 instead of 0/50)
- [x] **BUG-02**: Series selection maximum capped at daily goal + 10 (user cannot select more)
- [x] **BUG-03**: After goal completion popup, navigate to Workout Results screen (not stay on current screen)
- [x] **BUG-04**: Calorie card in Statistics page displays correctly without unnecessary bar

**Outcome:** All requirements satisfied. UserStatsProvider.dailyGoal changed to instance getter. Home screen uses GoalsProvider for dynamic goal display. Series selection cap formula: (dailyGoal + 10).clamp(10, 99). Unified navigation flow to Workout Summary. CalorieCard gradient bar removed.

### Notifications (Deferred)

- [ ] **NOTIF-01**: Daily reminder notification arrives at configured fixed time
- [ ] **NOTIF-02**: Notifications work correctly on Android 12+ (API 31+)
- [ ] **NOTIF-03**: App requests POST_NOTIFICATIONS permission on Android 13+
- [ ] **NOTIF-04**: App requests SCHEDULE_EXACT_ALARM permission for fixed-time reminders
- [ ] **NOTIF-05**: Notification service initializes correctly on app startup
- [ ] **NOTIF-06**: Graceful fallback when user denies notification permissions
- [ ] **NOTIF-07**: Notification tap opens app to correct screen

**Outcome:** Deferred to v2.7 - Phase 04.5 removed from milestone scope.

---

## Traceability

Which phases covered which requirements.

| Requirement | Phase | Status |
|-------------|-------|--------|
| WRK-01 | Phase 04.1 | Complete ✅ |
| WRK-02 | Phase 04.1 | Complete ✅ |
| WRK-03 | Phase 04.1 | Complete ✅ |
| GOAL-01 | Phase 04.2 | Complete ✅ |
| GOAL-02 | Phase 04.2 | Complete ✅ |
| GOAL-03 | Phase 04.2 | Complete ✅ |
| GOAL-04 | Phase 04.2 | Complete ✅ |
| UX-01 | Phase 04.3 | Complete ✅ |
| UX-02 | Phase 04.3 | Complete ✅ |
| UX-03 | Phase 04.3 | Complete ✅ |
| UX-04 | Phase 04.3 | Complete ✅ |
| UX-05 | Phase 04.3 | Complete ✅ |
| AND-01 | Phase 04.4 | Complete ✅ |
| AND-02 | Phase 04.4 | Complete ✅ |
| AND-03 | Phase 04.4 | Complete ✅ |
| AND-04 | Phase 04.4 | Complete ✅ |
| AND-05 | Phase 04.4 | Complete ✅ |
| BUG-01 | Phase 04.6 | Complete ✅ |
| BUG-02 | Phase 04.6 | Complete ✅ |
| BUG-03 | Phase 04.6 | Complete ✅ |
| BUG-04 | Phase 04.6 | Complete ✅ |

**Coverage:**
- v2.6 requirements: 23 total
- Shipped in v2.6: 16 (WRK, GOAL, UX, AND, BUG categories)
- Deferred: 7 (NOTIF category - Phase 04.5)

---

## Milestone Summary

**Shipped:** 16 of 16 v2.6 requirements (100% of in-scope work)
**Deferred:** 7 notification requirements (Phase 04.5 moved to v2.7)
**Adjusted:** Phase 04.4 reduced from 3 to 2 plans (verification plan deferred)
**Dropped:** None

---

*Archived: 2026-01-31 as part of v2.6 milestone completion*
