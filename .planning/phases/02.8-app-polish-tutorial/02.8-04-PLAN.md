---
phase: 02.8-app-polish-tutorial
plan: 04
type: execute
wave: 1
depends_on: []
files_modified:
  - push_up_5050/android/app/src/main/res/mipmap-*/ic_launcher.png
  - push_up_5050/android/app/src/main/res/mipmap-*/ic_launcher_round.png
  - push_up_5050/android/app/src/main/res/drawable-*/ic_launcher_foreground.png
  - push_up_5050/android/app/src/main/res/mipmap-*/ic_launcher.png
autonomous: true

must_haves:
  truths:
    - "App icon displays correctly on Android home screen"
    - "Icon uses assets from Icone-App-Pushup folder"
    - "flutter_launcher_icons generates all required sizes"
    - "Adaptive icon layers configured (foreground + background)"
  artifacts:
    - path: "push_up_5050/android/app/src/main/res/"
      provides: "Generated launcher icons in all density folders"
    - path: "push_up_5050/pubspec.yaml"
      provides: "flutter_launcher_icons configuration"
      contains: "flutter_launcher_icons:"
  key_links:
    - from: "push_up_5050/Icone-App-Pushup/"
      to: "push_up_5050/android/app/src/main/res/"
      via: "flutter_launcher_icons copies and resizes source icon"
      pattern: "ic_launcher"
</context>

<objective>
Configure app launcher icon using existing assets from Icone-App-Pushup folder.

Purpose: Professional app branding requires properly configured launcher icons across all Android device densities. flutter_launcher_icons automates generation from a source asset.

Output: Configured app icon displaying correctly on Android launcher.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02.8-app-polish-tutorial/02.8-CONTEXT.md

@push_up_5050/pubspec.yaml
@push_up_5050/Icone-App-Pushup/
</context>

<tasks>

<task type="auto">
  <name>Task 1: Review available icon assets</name>
  <files>push_up_5050/Icone-App-Pushup/</files>
  <action>
List and examine icon assets in Icone-App-Pushup folder:
- ldpi.png (120x120)
- mdpi.png (160x160)
- hdpi.png (240x240)
- xhdpi.png (320x320)
- xxhdpi.png (480x480)
- xxxhdpi.png (640x640)
- GooglePlayStore.png (512x512)

Select GooglePlayStore.png (512x512) as the source asset for flutter_launcher_icons generation. This size is sufficient for generating all required Android densities.

Verify the assets are valid PNG images.
  </action>
  <verify>GooglePlayStore.png exists and is 512x512 pixels</verify>
  <done>Source icon asset identified</done>
</task>

<task type="auto">
  <name>Task 2: Copy source icon to assets/launcher folder</name>
  <files>push_up_5050/assets/launcher/</files>
  <action>
1. Verify assets/launcher/ directory exists (created per pubspec.yaml line 75)
2. Copy GooglePlayStore.png to assets/launcher/icon.png:
   - Source: push_up_5050/Icone-App-Pushup/GooglePlayStore.png
   - Destination: push_up_5050/assets/launcher/icon.png

Use PowerShell copy command:
```powershell
Copy-Item "push_up_5050\Icone-App-Pushup\GooglePlayStore.png" "push_up_5050\assets\launcher\icon.png"
```

Verify file was copied successfully.
  </action>
  <verify>File exists: push_up_5050/assets/launcher/icon.png</verify>
  <done>Source icon copied to assets/launcher/ folder</done>
</task>

<task type="auto">
  <name>Task 3: Update flutter_launcher_icons configuration</name>
  <files>push_up_5050/pubspec.yaml</files>
  <action>
Review the existing flutter_launcher_icons configuration in pubspec.yaml (lines 56-62).

Current config:
```yaml
flutter_launcher_icons:
  android: true
  ios: false
  image_path: "assets/launcher/icon.png"
  adaptive_icon_background: "#000000"
  adaptive_icon_foreground: "assets/launcher/icon.png"
  min_sdk_android: 21
```

This configuration is already correct. No changes needed.
- image_path points to our copied icon
- adaptive_icon_background is black (matches app theme)
- adaptive_icon_foreground uses same icon
- ios: false (iOS not needed for this phase)

If verification shows image_path differs, update to match: "assets/launcher/icon.png"
  </action>
  <verify>pubspec.yaml flutter_launcher_icons configuration is correct</verify>
  <done>Icon configuration verified (no changes needed)</done>
</task>

<task type="auto">
  <name>Task 4: Run flutter_launcher_icons to generate icons</name>
  <files>push_up_5050/android/app/src/main/res/</files>
  <action>
1. Navigate to project directory: `cd push_up_5050`
2. Clean any existing icons (optional): Remove old mipmap-* launcher icons
3. Generate new icons: `flutter pub run flutter_launcher_icons`

This command:
- Reads image_path from pubspec.yaml
- Generates icons for all Android densities (mdpi, hdpi, xhdpi, xxhdpi, xxxhdpi)
- Creates adaptive icon XML files
- Updates android/app/src/main/res/ with new assets

Watch for output confirming successful generation.
  </action>
  <verify>android/app/src/main/res/mipmap-*/ic_launcher.png files exist and are updated</verify>
  <done>Launcher icons generated for all Android densities</done>
</task>

<task type="auto">
  <name>Task 5: Build and verify icon on emulator</name>
  <files>push_up_5050/</files>
  <action>
1. Clean build: `flutter clean`
2. Build APK: `flutter build apk --debug`
3. Install on emulator: `flutter install`

Note: If the same APK was installed before, Android may cache the old icon. To see the new icon:
- Option A: Uninstall and reinstall app on emulator
- Option B: Change app version in pubspec.yaml (version: 1.0.0+2)
- Option C: Wait for launcher to refresh (can take several minutes)

After installation, the new icon should appear on the home screen and app drawer.
  </action>
  <verify>APK builds and installs successfully</verify>
  <done>App installed with new icon configuration</done>
</task>

</tasks>

<verification>
- Source icon copied to assets/launcher/icon.png
- flutter_launcher_icons configuration correct
- All mipmap-* folders contain generated ic_launcher files
- Adaptive icon XML files exist (drawable/ic_launcher_foreground.xml)
- App builds and installs without errors
</verification>

<success_criteria>
- Icon assets properly configured via flutter_launcher_icons
- App builds successfully with new icon
- Icon displays on emulator launcher
- Icon is visually correct (not corrupted, proper aspect ratio)
</success_criteria>

<output>
After completion, create `.planning/phases/02.8-app-polish-tutorial/02.8-04-SUMMARY.md`
</output>
