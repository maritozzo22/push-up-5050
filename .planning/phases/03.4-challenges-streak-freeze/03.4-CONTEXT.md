# Phase 03.4: Challenges & Streak Freeze - Context

**Gathered:** 2026-01-26
**Status:** Ready for planning

## Phase Boundary

Weekly challenges provide additional motivation beyond weekly goals, with a higher target (daily goal Ã— 7) and badge+points reward. Streak freeze prevents streak reset for one week per month, protecting the user's progress streak.

## Implementation Decisions

### Weekly Challenge Design
- **Target:** Daily goal Ã— 7 (full 7-day week, not 5 days like weekly goal)
- **Display:** Card in StatisticsScreen below WeeklyChartCard, above mini stats row
- **Progress bar:** Shows current week push-ups vs challenge target (0-100%)
- **Reset:** Challenge resets every Sunday along with weekly review
- **Badge name:** "Weekly Challenge [Week #]" (e.g., "Weekly Challenge 4" for 4th week of year)
- **Badge icon:** Trophy emoji ðŸ†
- **Bonus points:** 200 points (awarded immediately on completion)

### Streak Freeze Design
- **Allowance:** 1 freeze per month (resets on 1st of each month)
- **Activation:** Auto-activates if user has weekly push-ups > 0 but < goal when streak would reset
- **Storage:** Track remaining freezes and active state in StorageService
- **Visual indicator:** Show snowflake icon â„ï¸ next to streak when freeze is active
- **Duration:** Freeze lasts for the current week only (prevents ONE Sunday reset)
- **Manual activation:** User can also manually activate from weekly review popup if they know they'll miss

### Challenge Completion Flow
1. User completes push-ups throughout the week
2. When weekly total >= challenge target, trigger challenge completion immediately
3. Show AchievementPopup with badge notification
4. Award 200 bonus points to today's DailyRecord
5. Save challenge completion flag for the week (prevent duplicate awards)
6. Display completed challenge in AchievementsScreen

### Storage Requirements
- Weekly challenge completion tracking (per week flag)
- Streak freeze remaining count (resets monthly)
- Streak freeze active state (boolean for current week)

### UI Requirements
- StatisticsScreen: Add WeeklyChallengeCard widget
- WeeklyChallengeCard: Progress bar, target/progress display, trophy icon
- AchievementsScreen: Display challenge badges
- AchievementPopup: Reuse existing popup for challenge completion

## Specific Ideas

- Challenge target should be harder than weekly goal (7 days vs 5 days)
- Streak freeze is a "safety net" - not intended for regular use
- Visual feedback when freeze is active is important for user awareness
- Challenge completion should feel rewarding (badge + points + notification)

## Deferred Ideas

None â€” discussion stayed within phase scope

---

*Phase: 03.4-challenges-streak-freeze*
*Context gathered: 2026-01-26*
