# Phase 03.2: Enhanced Points System & Anti-Cheat - Context

**Gathered:** 2026-01-24
**Status:** Ready for planning

<domain>
## Phase Boundary

Points calculation with aggressive multipliers and anti-cheat protections. Users earn points in real-time during workouts with animated feedback. Daily rep cap prevents abuse by ending workout when user reaches their onboarding-defined goal (with tolerance for progressive series overshoot). Points displayed prominently in home screen and workout UI.

</domain>

<decisions>
## Implementation Decisions

### Points Formula
- **Base formula**: Base × (RepMult + SeriesMult) × StreakMult
- **Rep multiplier**: push-ups × 0.3 (fixed)
- **Series multiplier**: series × 0.8 (fixed)
- **Streak multiplier**: Day 1 = 1.0x, Day 2 = 1.8x, Day 3 = 2.6x, then +0.8x per consecutive day
- **Streak cap**: Day 30 = 24.2x maximum (stops growing after 30 days)
- **Rounding**: Always round to integers for display

### Real-Time Points Display (Workout Screen)
- **Position**: Center screen, slightly below current multiplier display
- **Color**: Orange accent with glow effect (distinct from other orange text)
- **Animation**: Slot machine-style counter (addictive, rolling effect)
- **Timing**: Update in real-time as each rep is counted
- **Style**: Claude to design the most addictive animation

### End Screen Points Display
- **Layout**: Large total points with breakdown below
- **Breakdown**: Shows workout points + achievement bonus points separately
- **Combined total**: Prominently displayed

### Home Screen Layout Changes
- **Long card**: Total Points (replaces "Today X push-ups")
- **Week card**: Today's Push-ups (replaces weekly stats)
- **Level display**: Show user level somewhere prominent (Claude to decide placement)

### Daily Cap (Anti-Cheat Core)
- **Cap basis**: REP-BASED, not points-based. Uses daily goal from onboarding (e.g., 30 reps/day based on user level)
- **Logic**: User starts from Series 1, progresses (1, 2, 3, 4, 5... reps)
- **Ending condition**: When series total reaches/exceeds daily goal → complete current series, then end workout
- **Tolerance**: Built-in tolerance because series are progressive (can't hit exact number like 30 — doing 1+2+3+4+5+6+7+8 = 36 reps is acceptable overshoot)
- **Completion popup**: "Congratulazioni! Per oggi hai dato il massimo. Continua domani per mantenere la costanza e raggiungere il tuo obiettivo!"
- **Effect**: Since workout stops at rep cap, points are naturally capped too
- **Reset**: Midnight

### Level System
- **Max levels**: 500 levels
- **Points cap**: No cap on total points earned (can accumulate infinitely)
- **Level formula**: Claude to decide based on points/progression
- **Level display**: Yes, visible in UI

### Claude's Discretion
- Exact points animation effect (slot machine style details)
- Cap formula scaling (goal × 1.5 to 2.5 based on level — exact formula TBD)
- Level progression formula (how points translate to levels)
- Level display placement in UI
- Daily cap visibility during workout (show remaining or hide until hit)

</decisions>

<specifics>
## Specific Ideas

- Points counter should feel "addictive like a slot machine" — visual feedback is key for engagement
- Home screen swap emphasizes points over raw push-up count — gamification focus
- Anti-cheat through rep cap means users literally CANNOT do more push-ups per day than their onboarding goal (with tolerance) — prevents grinding

</specifics>

<deferred>
## Deferred Ideas

- Spending points on rewards/store — future phase
- Leaderboards based on points — future phase
- Point-based challenges (separate from weekly challenges) — future phase

---

*Phase: 03.2-enhanced-points-anti-cheat*
*Context gathered: 2026-01-24*
