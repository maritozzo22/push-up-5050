---
phase: 03.1-personalized-onboarding
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - push_up_5050/lib/screens/onboarding/widgets/frequency_selector.dart
  - push_up_5050/lib/screens/onboarding/widgets/daily_goal_slider.dart
  - push_up_5050/lib/l10n/app_en.arb
  - push_up_5050/lib/l10n/app_it.arb
autonomous: true

must_haves:
  truths:
    - "User can select workout frequency (1-7 days per week)"
    - "User can adjust daily goal using slider with preset values (20, 30, 40, 50, 60, 75, 100)"
    - "Frequency selector uses simple counter pattern with +/- buttons"
    - "Daily goal slider shows progress preview text"
  artifacts:
    - path: "push_up_5050/lib/screens/onboarding/widgets/frequency_selector.dart"
      provides: "Workout frequency selector widget"
      min_lines: 60
    - path: "push_up_5050/lib/screens/onboarding/widgets/daily_goal_slider.dart"
      provides: "Daily goal slider widget with preset values"
      min_lines: 70
    - path: "push_up_5050/lib/l10n/app_en.arb"
      contains: "onboardingFrequencyTitle, onboardingDaysPerWeek, onboardingDailyGoalTitle, onboardingDailyGoalQuestion"
  key_links:
    - from: "frequency_selector.dart"
      to: "onboarding_data.dart"
      via: "ValueChanged<int> callback"
      pattern: "ValueChanged<int>"
    - from: "daily_goal_slider.dart"
      to: "onboarding_data.dart"
      via: "ValueChanged<int> callback"
      pattern: "ValueChanged<int>"
---

<objective>
Create remaining onboarding screen widgets (Screens 3-4)

This plan completes the onboarding widget set by:
1. Building the workout frequency selector widget (Screen 3)
2. Building the daily goal slider widget (Screen 4)
3. Adding necessary localization keys

Purpose: Provide UI components for collecting workout frequency and daily goal preferences

Output: FrequencySelector widget, DailyGoalSlider widget, updated i18n files
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/03.1-personalized-onboarding/03.1-CONTEXT.md
@.planning/phases/03.1-personalized-onboarding/03.1-RESEARCH.md

@push_up_5050/lib/screens/onboarding/onboarding_screen.dart
@push_up_5050/lib/screens/series_selection/series_selection_screen.dart
@push_up_5050/lib/widgets/design_system/frost_card.dart
@push_up_5050/lib/screens/onboarding/onboarding_data.dart
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create FrequencySelector widget (Screen 3)</name>
  <files>push_up_5050/lib/screens/onboarding/widgets/frequency_selector.dart</files>
  <action>
Create new file `push_up_5050/lib/screens/onboarding/widgets/frequency_selector.dart` with:

1. **StatelessWidget** named `FrequencySelector`

2. **Constructor parameters:**
   - `value: int` (currently selected frequency, 1-7)
   - `onChanged: ValueChanged<int>` (callback when value changes)

3. **UI Layout:**
   - Title text (from i18n: `onboardingFrequencyTitle`)
   - Description text (from i18n: `onboardingFrequencyDesc`)
   - Central large number display (64px, Bold font) showing current frequency
   - Label "days per week" below number
   - Two circular buttons below:
     - Minus button (decrement, disabled if value == 1)
     - Plus button (increment, disabled if value == 7)

4. **Button Styling:**
   - Use the same circular button pattern from `series_selection_screen.dart` (_CircleIconButton)
   - Enabled: Orange gradient (Color(0xFFFFB347) to Color(0xFFFF5F1F))
   - Disabled: Semi-transparent white (0.08 opacity)
   - Size: 56x56
   - Icon size: 28px

5. **Layout Structure:**
   - Use FrostCard or similar glass effect container
   - Center-align all content
   - Responsive padding

Reference the stepper pattern from `series_selection_screen.dart` for button implementation.

DO NOT use a complex day selector (M T W T F S S toggle) - keep it simple with 1-7 counter.
  </action>
  <verify>
File exists at `push_up_5050/lib/screens/onboarding/widgets/frequency_selector.dart` with:
- FrequencySelector StatelessWidget
- Large value display (64px)
- +/- buttons with correct enable/disable states
- Min value of 1, max value of 7
- Correct styling matching SeriesSelectionScreen pattern
  </verify>
  <done>
FrequencySelector widget displays frequency value, allows increment/decrement within 1-7 range, and matches existing app styling.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create DailyGoalSlider widget (Screen 4)</name>
  <files>push_up_5050/lib/screens/onboarding/widgets/daily_goal_slider.dart</files>
  <action>
Create new file `push_up_5050/lib/screens/onboarding/widgets/daily_goal_slider.dart` with:

1. **StatelessWidget** named `DailyGoalSlider`

2. **Constructor parameters:**
   - `value: int` (currently selected goal)
   - `onChanged: ValueChanged<int>` (callback when slider moves)

3. **Slider Configuration:**
   - Preset values: [20, 30, 40, 50, 60, 75, 100]
   - Map slider position (0-6) to preset values
   - Use Flutter Slider widget with `divisions: 6` for discrete steps

4. **UI Layout:**
   - Title text (from i18n: `onboardingDailyGoalTitle`)
   - Description text (from i18n: `onboardingDailyGoalDesc`)
   - Large value display (64px, Bold font) showing current goal
   - "push-ups per day" label below value
   - Slider below label
   - Info box below slider showing progress preview (similar to existing onboarding)

5. **Progress Preview:**
   - Calculate days needed to reach 5050: (5050 / value).ceil()
   - Display text: "At this pace, you'll reach 5050 in about {X} months"
   - Use FrostCard styling with orange accent
   - Show info icon

6. **Slider Styling:**
   - Active track: Color(0xFFFFB347)
   - Inactive track: Colors.white.withOpacity(0.20)
   - Thumb: Color(0xFFFFB347) with overlay

Reference the existing goal card pattern in `onboarding_screen.dart` (_GoalCard) for styling inspiration.

DO NOT add long-press acceleration - the preset values are sufficient.
  </action>
  <verify>
File exists at `push_up_5050/lib/screens/onboarding/widgets/daily_goal_slider.dart` with:
- DailyGoalSlider StatelessWidget
- Slider with 7 discrete positions mapped to preset values
- Large value display (64px)
- Progress preview showing months to reach 5050
- Correct styling (orange accent, frost card)
  </verify>
  <done>
DailyGoalSlider widget displays current goal, allows selection from preset values, shows progress preview, and matches existing app styling.
  </done>
</task>

<task type="auto">
  <name>Task 3: Add i18n keys for onboarding screens 3-4</name>
  <files>push_up_5050/lib/l10n/app_en.arb, push_up_5050/lib/l10n/app_it.arb</files>
  <action>
Add the following keys to both `app_en.arb` and `app_it.arb`:

**English (app_en.arb):**
```json
"onboardingFrequencyTitle": "Workout Frequency",
"onboardingFrequencyDesc": "How many days per week do you plan to work out?",
"onboardingDaysPerWeek": "days per week",
"onboardingDailyGoalTitle": "Daily Goal",
"onboardingDailyGoalDesc": "Set a realistic daily target to maintain consistency",
"onboardingPushupsPerDay": "push-ups per day",
"onboardingPacePreview": "At this pace, you'll reach 5050 in about {time}",
"@onboardingPacePreview": {
  "placeholders": {
    "time": {
      "type": "String",
      "example": "3 months"
    }
  }
}
```

**Italian (app_it.arb):**
```json
"onboardingFrequencyTitle": "Frequenza degli Allenamenti",
"onboardingFrequencyDesc": "Quanti giorni a settimana pianifichi di allenarti?",
"onboardingDaysPerWeek": "giorni a settimana",
"onboardingDailyGoalTitle": "Obiettivo Giornaliero",
"onboardingDailyGoalDesc": "Imposta un obiettivo giornaliero realistico per mantenere la costanza",
"onboardingPushupsPerDay": "flessioni al giorno",
"onboardingPacePreview": "A questo ritmo, raggiungerai 5050 in circa {time}",
"@onboardingPacePreview": {
  "placeholders": {
    "time": {
      "type": "String",
      "example": "3 mesi"
    }
  }
}
```

Run `flutter pub get` after modifying arb files to regenerate AppLocalizations.

Place new keys alphabetically in the file to maintain organization.
  </action>
  <verify>
Both arb files contain all new keys with correct translations and placeholder metadata.
Run `flutter analyze` - no errors related to missing localizations.
  </verify>
  <done>
All i18n keys added to both EN and IT, AppLocalizations regenerated successfully.
  </done>
</task>

</tasks>

<verification>
1. flutter analyze passes with no errors
2. All new files compile without syntax errors
3. i18n keys are present in both languages
4. Frequency selector allows values 1-7 only
5. Daily goal slider has correct preset values
6. Progress preview calculation is accurate
</verification>

<success_criteria>
- FrequencySelector widget allows selection from 1-7 days per week
- DailyGoalSlider widget allows selection from preset values [20, 30, 40, 50, 60, 75, 100]
- Progress preview shows accurate calculation
- All i18n keys added for EN and IT
- Widgets follow existing design patterns
</success_criteria>

<output>
After completion, create `.planning/phases/03.1-personalized-onboarding/03.1-02-SUMMARY.md`
</output>
