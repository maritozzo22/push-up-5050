---
phase: 02.7-widget-rebuild-from-templates
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - push_up_5050/android/app/src/main/res/drawable/widget_4x4_background.xml
  - push_up_5050/android/app/src/main/res/drawable/widget_4x4_top_panel.xml
  - push_up_5050/android/app/src/main/res/drawable/widget_4x4_start_button.xml
  - push_up_5050/android/app/src/main/res/drawable/widget_day_chip_completed.xml
  - push_up_5050/android/app/src/main/res/drawable/widget_day_chip_pending.xml
  - push_up_5050/android/app/src/main/res/drawable/widget_day_chip_missed.xml
  - push_up_5050/android/app/src/main/res/drawable/widget_2x1_background.xml
  - push_up_5050/android/app/src/main/res/drawable/widget_2x1_top_panel.xml
  - push_up_5050/android/app/src/main/res/drawable/widget_2x1_day_chip.xml
  - push_up_5050/android/app/src/main/res/values/widget_colors.xml
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Widget 4x4 has exact gradient colors matching template (topA=#20262B, topB=#111416, bottomA=#0F1113, bottomB=#0B0D0F)"
    - "Widget 4x4 has curved bottom edge on top panel (quadraticBezier effect via layer-list)"
    - "Orange colors match template exactly (#F46A1E for primary, #EF7A1A for gradient)"
    - "Widget 2x1 has same color system as 4x4"
    - "Day chips have correct visual states (completed=orange with glow, pending=gray, missed=red with X)"
    - "START button has gradient orange effect with top highlight"
  artifacts:
    - path: push_up_5050/android/app/src/main/res/values/widget_colors.xml
      provides: "Centralized color values matching template"
      contains: "widget_top_a, widget_top_b, widget_bottom_a, widget_bottom_b, widget_orange, widget_orange2"
    - path: push_up_5050/android/app/src/main/res/drawable/widget_4x4_background.xml
      provides: "4x4 widget card shell with gradient and shadow"
    - path: push_up_5050/android/app/src/main/res/drawable/widget_4x4_top_panel.xml
      provides: "Top panel with gradient and curved bottom edge"
    - path: push_up_5050/android/app/src/main/res/drawable/widget_4x4_start_button.xml
      provides: "Circular START button with gradient and highlight"
    - path: push_up_5050/android/app/src/main/res/drawable/widget_day_chip_completed.xml
      provides: "Orange day chip with glow for completed days"
    - path: push_up_5050/android/app/src/main/res/drawable/widget_day_chip_pending.xml
      provides: "Gray day chip for pending/future days"
    - path: push_up_5050/android/app/src/main/res/drawable/widget_day_chip_missed.xml
      provides: "Red outline day chip with X for missed days"
    - path: push_up_5050/android/app/src/main/res/drawable/widget_2x1_background.xml
      provides: "2x1 widget card shell"
    - path: push_up_5050/android/app/src/main/res/drawable/widget_2x1_top_panel.xml
      provides: "2x1 top panel with gradient (62% height)"
    - path: push_up_5050/android/app/src/main/res/drawable/widget_2x1_day_chip.xml
      provides: "Day chip for 2x1 widget (3-day view)"
  key_links:
    - from: template-widget 4x4.md
      to: widget_colors.xml
      via: "Color extraction from Flutter constants"
      pattern: "_topA|_topB|_bottomA|_bottomB|_orange|_orange2"
    - from: template-widget 2x1.md
      to: widget_2x1_top_panel.xml
      via: "62% height gradient panel"
      pattern: "0.62.*height"
    - from: widget_4x4_top_panel.xml
      to: Pushup5050Widget._TopPanelClipper
      via: "Curved edge simulation via layer-list"
      pattern: "quadraticBezier.*curveDepth"
---

<objective>
Create all drawable resources for both widgets matching exact template colors and effects.

Purpose: Templates use specific hex colors and visual effects (gradients, curved edges, glow) that must be replicated in Android XML drawables. Centralized colors ensure consistency across all widget elements.

Output: Complete set of drawable resources and color definitions for both 4x4 and 2x1 widgets.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/02.7-widget-rebuild-from-templates/02.7-CONTEXT.md
@template-widget 4x4.md
@template-widget 2x1.md
@push_up_5050/android/app/src/main/res/drawable/widget_background.xml
@push_up_5050/android/app/src/main/res/drawable/widget_start_button_background.xml
@push_up_5050/android/app/src/main/res/drawable/day_indicator_glow.xml
@push_up_5050/android/app/src/main/res/drawable/day_indicator_pending.xml
@push_up_5050/android/app/src/main/res/drawable/day_indicator_missed_new.xml
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create centralized color values file</name>
  <files>push_up_5050/android/app/src/main/res/values/widget_colors.xml</files>
  <action>
    Create widget_colors.xml with exact hex colors from templates:
    - widget_top_a: #20262B (top gradient start)
    - widget_top_b: #111416 (top gradient end)
    - widget_bottom_a: #0F1113 (bottom gradient start)
    - widget_bottom_b: #0B0D0F (bottom gradient end)
    - widget_orange: #F46A1E (primary orange)
    - widget_orange2: #EF7A1A (secondary orange for gradient)
    - widget_text_soft: #B9C0C7 (secondary text)
    - widget_text_white: #FFFFFF (primary text)
    - widget_day_pending: #3A4046 (gray for pending days)
    - widget_day_pending_text: #D7DEE6 (text on pending)
    - widget_day_missed: #F44336 (red for missed days)

    Reference: Pushup5050Widget static constants in template-widget 4x4.md lines 31-38
  </action>
  <verify>File exists with all 11 color values defined using exact hex codes from template</verify>
  <done>All widget drawable resources can reference @color/widget_* instead of hardcoded hex values</done>
</task>

<task type="auto">
  <name>Task 2: Create 4x4 widget drawables</name>
  <files>
    push_up_5050/android/app/src/main/res/drawable/widget_4x4_background.xml
    push_up_5050/android/app/src/main/res/drawable/widget_4x4_top_panel.xml
    push_up_5050/android/app/src/main/res/drawable/widget_4x4_start_button.xml
    push_up_5050/android/app/src/main/res/drawable/widget_day_chip_completed.xml
    push_up_5050/android/app/src/main/res/drawable/widget_day_chip_pending.xml
    push_up_5050/android/app/src/main/res/drawable/widget_day_chip_missed.xml
  </files>
  <action>
    Create 6 drawable files for 4x4 widget:

    1. widget_4x4_background.xml: Layer-list with card shell
       - outer: box shadow (black with 0xAA alpha, 24dp blur, 14dp offset)
       - inner: gradient from widget_bottom_a to widget_bottom_b
       - corners: 28dp radius

    2. widget_4x4_top_panel.xml: Layer-list simulating curved bottom edge
       - base: gradient from widget_top_a to widget_top_b
       - curve simulation: use multiple rectangle layers with offset to approximate quadraticBezier curve (12-18% of height as curve depth)
       - noise overlay: optional grid pattern (10% opacity white lines)

    3. widget_4x4_start_button.xml: Layer-list for circular START button
       - shadow layer: black with 0xAA alpha, 24dp blur, 14dp offset
       - base circle: #2A2F35
       - gradient circle (88% size): linear gradient from widget_orange2 to widget_orange
       - highlight (top 40%): white with 0.22 opacity gradient

    4. widget_day_chip_completed.xml: Completed day chip (orange with glow)
       - shadow: black with 0.35 alpha, 10dp blur, 6dp offset
       - circle: widget_orange solid
       - radius: fully rounded (for dynamic sizing)

    5. widget_day_chip_pending.xml: Pending day chip (gray)
       - shadow: black with 0.25 alpha, 8dp blur, 6dp offset
       - circle: widget_day_pending solid
       - radius: fully rounded

    6. widget_day_chip_missed.xml: Missed day chip (red with X mark)
       - stroke: widget_day_missed, 2dp width
       - fill: transparent
       - X mark: use path or two crossed lines

    Reference template-widget 4x4.md for visual specifications (lines 31-38 for colors, _CardShell for shadows, StartButton for gradient button, _DayChip for day chips)
  </action>
  <verify>All 6 drawable files exist and reference @color/widget_* values, no hardcoded hex colors except for alpha values (0xAA, 0x22, etc.)</verify>
  <done>4x4 widget has all required drawable resources matching template visual design</done>
</task>

<task type="auto">
  <name>Task 3: Create 2x1 widget drawables</name>
  <files>
    push_up_5050/android/app/src/main/res/drawable/widget_2x1_background.xml
    push_up_5050/android/app/src/main/res/drawable/widget_2x1_top_panel.xml
    push_up_5050/android/app/src/main/res/drawable/widget_2x1_day_chip.xml
  </files>
  <action>
    Create 3 drawable files for 2x1 widget:

    1. widget_2x1_background.xml: Layer-list with card shell
       - outer: box shadow (black with 0xAA alpha, 22dp blur, 12dp offset)
       - inner: gradient from widget_bottom_a to widget_bottom_b
       - corners: 26dp radius (note: 2x1 template uses 26dp, not 28dp)

    2. widget_2x1_top_panel.xml: Rectangle with gradient (62% of widget height)
       - fill: gradient from widget_top_a to widget_top_b
       - no curved edge (2x1 template has straight bottom edge)
       - noise overlay: same grid pattern as 4x4 (10% opacity)

    3. widget_2x1_day_chip.xml: Selector for 3-day view chips
       - state_selected="true": widget_orange with glow shadow
       - default: widget_day_pending with lighter shadow
       - same circular shape as 4x4 day chips

    Reference template-widget 2x1.md for specifications (lines 33-38 for colors, _CardShell for 26dp corners, _DayChip for day styling)
  </action>
  <verify>All 3 drawable files exist and reuse @color/widget_* values, corners are 26dp (not 28dp like 4x4)</verify>
  <done>2x1 widget has all required drawable resources sharing color system with 4x4</done>
</task>

</tasks>

<verification>
After completing all tasks:
1. All drawable files exist in android/app/src/main/res/drawable/
2. widget_colors.xml contains all 11 color values
3. No hardcoded hex colors in drawables (only @color/widget_* references)
4. Colors match template exactly: #20262B, #111416, #0F1113, #0B0D0F, #F46A1E, #EF7A1A, #B9C0C7
5. Corner radii are correct: 28dp for 4x4, 26dp for 2x1
</verification>

<success_criteria>
1. All drawable resources created and valid XML
2. Centralized color system matching template hex values
3. Both widgets share same color definitions
4. Ready for layout integration (Plan 02)
</success_criteria>

<output>
After completion, create `.planning/phases/02.7-widget-rebuild-from-templates/02.7-01-SUMMARY.md`
</output>
