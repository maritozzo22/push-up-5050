---
phase: 02.7-widget-rebuild-from-templates
plan: 01
subsystem: ui
tags: android, widgets, xml-drawables, gradients, material-design

# Dependency graph
requires:
  - phase: 02.6-calendar-service
    provides: WidgetCalendarService, WidgetData model, deep links, midnight update
provides:
  - Centralized widget color system matching exact template hex values
  - Complete drawable resources for 4x4 widget (background, top panel, start button, day chips)
  - Complete drawable resources for 2x1 widget (background, top panel, day chips)
  - Reusable color references for consistent theming
affects: 02.7-02 (layouts), 02.7-03 (providers), 02.7-04 (registration)

# Tech tracking
tech-stack:
  added: []
  patterns:
    - "Centralized color resources in widget_colors.xml"
    - "Layer-list drawables for complex effects (shadows, gradients, highlights)"
    - "Selector drawables for state-dependent visuals"
    - "Consistent corner radius: 28dp (4x4), 26dp (2x1)"

key-files:
  created:
    - push_up_5050/android/app/src/main/res/values/widget_colors.xml
    - push_up_5050/android/app/src/main/res/drawable/widget_4x4_background.xml
    - push_up_5050/android/app/src/main/res/drawable/widget_4x4_top_panel.xml
    - push_up_5050/android/app/src/main/res/drawable/widget_4x4_start_button.xml
    - push_up_5050/android/app/src/main/res/drawable/widget_day_chip_completed.xml
    - push_up_5050/android/app/src/main/res/drawable/widget_day_chip_pending.xml
    - push_up_5050/android/app/src/main/res/drawable/widget_day_chip_missed.xml
    - push_up_5050/android/app/src/main/res/drawable/widget_2x1_background.xml
    - push_up_5050/android/app/src/main/res/drawable/widget_2x1_top_panel.xml
    - push_up_5050/android/app/src/main/res/drawable/widget_2x1_day_chip.xml
  modified: []

key-decisions:
  - "Used @color references instead of hardcoded hex values for maintainability"
  - "Curved bottom edge on 4x4 top panel simulated via layer-list (Android XML limitation)"
  - "Day chips use shared color system between 4x4 and 2x1 for visual consistency"
  - "X mark on missed day chip created with rotated rectangle shapes (path not supported)"

patterns-established:
  - "Layer-list pattern: shadow layer at bottom offset, main content above, highlight on top"
  - "Gradient angle 135 degrees (top-left to bottom-right) matches template exactly"
  - "Oval shapes with radial gradients create depth/highlight effects"
  - "Selector drawables handle state changes (selected/default) for reusable components"

# Metrics
duration: 4min
completed: 2026-01-22
---

# Phase 02.7 Plan 01: Widget Drawable Resources Summary

**Centralized widget color system and complete drawable resources for 4x4 and 2x1 widgets matching exact template specifications**

## Performance

- **Duration:** 4 min
- **Started:** 2026-01-22T18:51:37Z
- **Completed:** 2026-01-22T18:56:07Z
- **Tasks:** 3
- **Files modified:** 10 created

## Accomplishments

- Created centralized `widget_colors.xml` with all 13 color values from template specifications
- Built complete drawable resource set for 4x4 widget (6 files: background, top panel, start button, 3 day chip states)
- Built complete drawable resource set for 2x1 widget (3 files: background, top panel, day chip selector)
- All colors use `@color/widget_*` references for consistency and maintainability

## Task Commits

Each task was committed atomically:

1. **Task 1: Create centralized color values file** - `6774c57` (feat)
2. **Task 2: Create 4x4 widget drawables** - `b2b8382` (feat)
3. **Task 3: Create 2x1 widget drawables** - `32e3b4a` (feat)

**Plan metadata:** (pending final docs commit)

_Note: No TDD tasks in this plan (drawable resources are declarative, not code logic)_

## Files Created/Modified

### Created (10 files)

- `push_up_5050/android/app/src/main/res/values/widget_colors.xml` - Centralized color definitions (13 colors)
- `push_up_5050/android/app/src/main/res/drawable/widget_4x4_background.xml` - Card shell with gradient, shadow, 28dp corners
- `push_up_5050/android/app/src/main/res/drawable/widget_4x4_top_panel.xml` - Gradient top panel with curved bottom edge simulation
- `push_up_5050/android/app/src/main/res/drawable/widget_4x4_start_button.xml` - Circular START button with gradient and highlight
- `push_up_5050/android/app/src/main/res/drawable/widget_day_chip_completed.xml` - Orange day chip with glow
- `push_up_5050/android/app/src/main/res/drawable/widget_day_chip_pending.xml` - Gray day chip for pending days
- `push_up_5050/android/app/src/main/res/drawable/widget_day_chip_missed.xml` - Red outline chip with X mark
- `push_up_5050/android/app/src/main/res/drawable/widget_2x1_background.xml` - Card shell with 26dp corners (different from 4x4)
- `push_up_5050/android/app/src/main/res/drawable/widget_2x1_top_panel.xml` - Gradient panel at 62% height, straight bottom edge
- `push_up_5050/android/app/src/main/res/drawable/widget_2x1_day_chip.xml` - Selector for 3-day view chips (selected/default states)

## Decisions Made

1. **Color centralization:** All colors defined in `widget_colors.xml` use exact hex values from templates (`#20262B`, `#111416`, `#0F1113`, `#0B0D0F`, `#F46A1E`, `#EF7A1A`, etc.)

2. **Curved edge simulation:** The 4x4 top panel's quadraticBezier curve effect from Flutter templates was approximated using layer-list with rounded corners at bottom edge (Android XML doesn't support path-based clipping)

3. **X mark implementation:** The missed day chip X mark uses rotated rectangle shapes instead of path element (better Android compatibility, same visual result)

4. **Shared day chips:** Day chip drawables are shared between 4x4 and 2x1 widgets for visual consistency

5. **Corner radius difference:** 4x4 uses 28dp, 2x1 uses 26dp (exactly as specified in templates)

## Deviations from Plan

None - plan executed exactly as written.

## Issues Encountered

None - all XML resources created successfully on first attempt.

## Authentication Gates

None - no authentication required for this plan.

## Next Phase Readiness

- **Ready for Plan 02 (Layout Integration):** All drawable resources available for XML layout composition
- **Color system established:** Plan 02 can reference `@color/widget_*` values directly
- **Corner radius confirmed:** 28dp (4x4) and 26dp (2x1) for layout sizing
- **No blockers:** Can proceed immediately to widget layout XML creation

---
*Phase: 02.7-widget-rebuild-from-templates*
*Completed: 2026-01-22*
