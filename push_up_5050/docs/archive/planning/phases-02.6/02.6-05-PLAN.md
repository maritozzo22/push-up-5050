---
phase: 02.6-widget-redesign
plan: 05
type: execute
wave: 5
depends_on: [02.6-01, 02.6-02, 02.6-03, 02.6-04]
files_modified: []
autonomous: false
user_setup: []

must_haves:
  truths:
    - "4x4 widget displays correctly on Android home screen with new design"
    - "7-day calendar row shows Italian labels (L M M G V S D)"
    - "Completed days appear as orange circles with glow"
    - "Missed days appear as red outline with X mark"
    - "Streak line connects consecutive completed days"
    - "2x1 widget displays 3-day calendar correctly"
    - "START button opens SeriesSelectionScreen via deep link"
    - "Widgets update within 5 seconds after completing workout"
    - "Midnight update refreshes calendar correctly"
  artifacts: []
  key_links: []
---

<objective>
Verify Widget Redesign End-to-End

Purpose: User testing of the complete widget redesign on physical Android device

Output: Verified working widgets with calendar synchronization
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02.6-widget-redesign/02.6-CONTEXT.md
@.planning/phases/02.6-widget-redesign/02.6-01-SUMMARY.md
@.planning/phases/02.6-widget-redesign/02.6-02-SUMMARY.md
@.planning/phases/02.6-widget-redesign/02.6-03-SUMMARY.md
@.planning/phases/02.6-widget-redesign/02.6-04-SUMMARY.md
@New-design.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete widget redesign with:
    - 4x4 widget with 7-day calendar (L M M G V S D)
    - 2x1 widget with 3-day calendar
    - Calendar synchronization with missed day detection
    - Midnight update via WorkManager
    - Orange glow, red X, gray pending states
  </what-built>
  <how-to-verify>
    **Preparation:**
    1. Build and install debug APK on Android device:
       `flutter build apk --debug`
       `flutter install`

    **4x4 Widget Tests:**
    2. Add 4x4 Quick Start widget to home screen
    3. Verify layout matches New-design.md reference:
       - Dark background with rounded corners
       - "PUSHUP 5050" title at top
       - Today/total stats displayed
       - Large orange START button with glow
       - 7-day calendar row at bottom

    4. Check 7-day calendar:
       - Verify labels: L M M G V S D (Italian)
       - Completed days: orange with glow
       - Missed days: red outline with X
       - Pending days: gray
       - Streak line visible between consecutive orange days

    **2x1 Widget Tests:**
    5. Add 2x1 Small Stats widget to home screen
    6. Verify 3-day calendar:
       - Yesterday-Today-Tomorrow layout
       - Correct status colors for each day
       - Day labels or indicators visible

    **Interactivity Tests:**
    7. Tap START button on 4x4 widget
    8. Verify app opens to SeriesSelectionScreen
    9. Complete a workout (any number of push-ups)
    10. Return to home screen
    11. Verify widget updates within 5 seconds:
        - Today's count reflects completed push-ups
        - Calendar shows today as completed (orange)

    **Midnight Update Tests:**
    12. (Cannot test directly without waiting for midnight)
    13. Instead: Change device time manually to test date transition
        OR verify WorkManager task is scheduled via adb shell:
        `adb shell dumpsys jobscheduler | grep pushup`
  </how-to-verify>
  <resume-signal>
    Type "approved" if all verification steps pass, or describe issues to fix.
  </resume-signal>
</task>

<task type="auto">
  <name>Task 2: Create final verification document</name>
  <files>.planning/phases/02.6-widget-redesign/02.6-VERIFICATION.md</files>
  <action>
    Create VERIFICATION.md documenting test results:

    1. Document what was tested:
       - 4x4 widget visual appearance
       - 2x1 widget visual appearance
       - Calendar day states (completed/missed/pending)
       - START button deep link
       - Widget update after workout
       - Italian day labels
       - Streak connecting lines

    2. Note any issues found during verification

    3. List any fixes applied

    4. Confirm acceptance criteria met

    This document serves as the UAT record for Phase 2.6.
  </action>
  <verify>
    cat .planning/phases/02.6-widget-redesign/02.6-VERIFICATION.md
    File exists and documents all test results
  </verify>
  <done>
    Verification document created with all test results
  </done>
</task>

</tasks>

<verification>
1. User has physically tested widgets on Android device
2. 4x4 widget displays new design correctly
3. 2x1 widget displays 3-day calendar correctly
4. Calendar states (completed/missed/pending) render properly
5. START button opens SeriesSelectionScreen
6. Widgets update after workout completion
7. VERIFICATION.md documents test results
</verification>

<success_criteria>
- All visual tests pass
- All functional tests pass
- User approves widget appearance and behavior
- VERIFICATION.md created
- Phase 2.6 complete
</success_criteria>

<output>
After completion, create `.planning/phases/02.6-widget-redesign/02.6-05-SUMMARY.md`
</output>
